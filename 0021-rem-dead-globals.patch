From 0096cc32360f7d8517dcf0a0f203000415993255 Mon Sep 17 00:00:00 2001
From: jeroendedauw <jeroendedauw@gmail.com>
Date: Thu, 10 May 2012 23:37:00 +0200
Subject: [PATCH 21/32] rem dead globals

Change-Id: I02d3385ff022f74f6d523c9b559132d3cbdb19ab
---
 includes/Maps_Mapper.php                           |    2 +-
 includes/features/Maps_BaseMap.php                 |    2 +-
 includes/iMappingService.php                       |    2 ++
 includes/manipulations/Maps_ParamLocation.php      |    1 +
 includes/manipulations/Maps_ParamService.php       |    2 +-
 includes/parserHooks/Maps_DisplayMap.php           |    2 +-
 includes/services/GoogleMaps3/Maps_GoogleMaps3.php |    2 +-
 7 files changed, 8 insertions(+), 5 deletions(-)

diff --git a/includes/Maps_Mapper.php b/includes/Maps_Mapper.php
index 95bad5c..b0c7af7 100644
--- a/includes/Maps_Mapper.php
+++ b/includes/Maps_Mapper.php
@@ -92,7 +92,7 @@ final class MapsMapper {
 			Parameter::TYPE_INTEGER
 		);
 		$params['zoom']->setDescription( wfMsg( 'maps-par-zoom' ) );
-		
+
 		$params['width'] = new Parameter(
 			'width', 
 			Parameter::TYPE_STRING,
diff --git a/includes/features/Maps_BaseMap.php b/includes/features/Maps_BaseMap.php
index 8dcf625..d0afa97 100644
--- a/includes/features/Maps_BaseMap.php
+++ b/includes/features/Maps_BaseMap.php
@@ -56,7 +56,7 @@ class MapsBaseMap {
 	 */
 	public final function renderMap( array $params, Parser $parser ) {
 		$this->setCentre( $params );
-		
+
 		if ( $params['zoom'] === false ) {
 			$params['zoom'] = $this->service->getDefaultZoom();
 		}
diff --git a/includes/iMappingService.php b/includes/iMappingService.php
index 5cd5cc7..157b709 100644
--- a/includes/iMappingService.php
+++ b/includes/iMappingService.php
@@ -35,6 +35,8 @@ interface iMappingService {
 	 * Adds service-specific parameter definitions to the porvided parameter list.
 	 * 
 	 * @since 0.7
+	 *
+	 * @param array $parameterInfo
 	 * 
 	 * @return array
 	 */
diff --git a/includes/manipulations/Maps_ParamLocation.php b/includes/manipulations/Maps_ParamLocation.php
index b444412..9449f2a 100644
--- a/includes/manipulations/Maps_ParamLocation.php
+++ b/includes/manipulations/Maps_ParamLocation.php
@@ -53,6 +53,7 @@ class MapsParamLocation extends ItemParameterManipulation {
 		$parts = $this->metaDataSeparator === false ? array( $value ) : explode( $this->metaDataSeparator, $value ); 
 		
 		$value = array_shift( $parts );
+
 		$value = new MapsLocation( $value );
 		
 		if ( $title = array_shift( $parts ) ) {
diff --git a/includes/manipulations/Maps_ParamService.php b/includes/manipulations/Maps_ParamService.php
index 960116e..64e73d4 100644
--- a/includes/manipulations/Maps_ParamService.php
+++ b/includes/manipulations/Maps_ParamService.php
@@ -47,7 +47,7 @@ class MapsParamService extends ItemParameterManipulation {
 		
 		// Get the service object so the service specific parameters can be retrieved.
 		$serviceObject = MapsMappingServices::getServiceInstance( $value );
-		
+
 		// Add the service specific service parameters.
 		$serviceObject->addParameterInfo( $parameters );
 	}
diff --git a/includes/parserHooks/Maps_DisplayMap.php b/includes/parserHooks/Maps_DisplayMap.php
index e0883a5..f73eed2 100644
--- a/includes/parserHooks/Maps_DisplayMap.php
+++ b/includes/parserHooks/Maps_DisplayMap.php
@@ -46,7 +46,7 @@ class MapsDisplayMap extends ParserHook {
 	 * @return array
 	 */
 	protected function getParameterInfo( $type ) {
-		global $egMapsMapWidth, $egMapsMapHeight, $egMapsDefaultServices;
+		global $egMapsDefaultServices;
 		
 		$params = MapsMapper::getCommonParameters();
 		
diff --git a/includes/services/GoogleMaps3/Maps_GoogleMaps3.php b/includes/services/GoogleMaps3/Maps_GoogleMaps3.php
index a42329d..a67f7c2 100644
--- a/includes/services/GoogleMaps3/Maps_GoogleMaps3.php
+++ b/includes/services/GoogleMaps3/Maps_GoogleMaps3.php
@@ -85,7 +85,7 @@ class MapsGoogleMaps3 extends MapsMappingService {
 		global $egMapsGMaps3Type, $egMapsGMaps3Types, $egMapsGMaps3Controls, $egMapsGMaps3Layers;
 		global $egMapsGMaps3DefTypeStyle, $egMapsGMaps3DefZoomStyle, $egMapsGMaps3AutoInfoWindows;
 		global $egMapsResizableByDefault, $egMapsGMaps3DefaultTilt;
-		
+
 		$params['zoom']->addCriteria( new CriterionInRange( 0, 20 ) );
 		$params['zoom']->setDefault( self::getDefaultZoom() );		
 		
-- 
1.7.9.5

